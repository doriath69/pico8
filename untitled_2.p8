pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
--lazydevs shmup tutorial

function _init()


	--init game state
	gamemode=0
	
	
	
	--init player1
	
	
	p1spr=1
	p1sprlen=3
	
	p1exstspr=5
	p1exstsprlen=3
	
	p1bulspr=9
	p1bulx=130
	p1buly=130
	p1bulvelx=0
	p1bulvely=0
	
	p1health=3
	p1score=0
	p1x=50
	p1y=50
	p1velx=0
	p1vely=0
	
	
	
	--init enemies
	
	bot1spr=17
	bot1sprlen=3
	bot1spd=1
	bot1x=30
	bot1y=0
	bot1velx=0
	bot1vely=3

end


function _update()

	--poll controllers
	if btnp(0) then
		p1velx=p1velx-1
		end
	
	if btnp(1) then
		p1velx=p1velx+1
		end
		
	if btnp(2) then
		p1vely=p1vely-1
		end
	
	if btnp(3) then
		p1vely=p1vely+1
		end
	
	if btnp(4) then
		p1bulx=p1x+4
		p1buly=p1y
		p1bulvely=-8
		end




	--update player 
	p1x = p1x+p1velx
	if p1x>120 then
		p1x = 120
		p1xvel = 0
	elseif p1x <0 then
		p1x=0
		p1xvel = 0
	end
	
	
	p1y = p1y+p1vely
	if p1y>120 then
		p1y = 120
		p1yvel = 0
	elseif p1y<0 then
		p1y=0
		p1yvel=0	
	end
	
	--update bullet
	p1bulx=p1bulx+p1bulvelx
	p1buly=p1buly+p1bulvely
	
	
	--update enemies
	bot1x=bot1x+bot1velx
	if bot1x>200 then
		bot1x = 0
	elseif bot1x<0 then
	 bot1x=120
	 end
	 
	 
	 
	bot1y=bot1y+bot1vely
	if bot1y>200 then
		bot1y = 0
	elseif bot1y<0 then
	 bot1y=120
	 end




end


function _draw()

--clear screen
cls(0)


--draw player sprite
spr(p1spr,p1x,p1y)
spr(p1exstspr,p1x,p1y+7)
--draw player bullet
spr(p1bulspr,p1bulx,p1buly)

--draw enemies
spr(bot1spr,bot1x,bot1y)

--draw ui
print("shmup game",60,0,8)


end


__gfx__
0000000000000000000000000000000000000000009aa900000000000000000000000000000aa000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000000000899800000000000000000000000000000aa000000000000000000000000000000000000000000000000000
00700700000dd00000000000000000000000000000088000000000000000000000000000000aa000000000000000000000000000000000000000000000000000
000770000006600000000000000000000000000000000000000000000000000000000000000aa000000000000000000000000000000000000000000000000000
0007700000dccd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000dddddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000dd0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000030000300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000bbbb000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000b88b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000003bbbbbb30000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000070707070000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
